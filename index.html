<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lauryn, eu te amo! ❤️</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: linear-gradient(135deg, #ffdde1, #ee9ca7);
            min-height: 100vh;
        }
        .fade-in {
            animation: fadeIn 2s ease-in-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .heart {
            position: fixed;
            bottom: -50px;
            font-size: 24px;
            animation: floatUp 4s linear infinite;
        }
        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100vh) scale(1.5); opacity: 0; }
        }
        /* Modal */
        #modal {
          position: fixed;
          inset: 0;
          background: rgba(238, 139, 238, 0.534);
          display: none;
          align-items: center;
          justify-content: center;
          z-index: 999;
          user-select: none;
          padding: 1rem;
        }
        #modal.active {
          display: flex;
        }
        #modal .modal-content {
          background: white;
          color: #ee9ca7;
          padding: 1.5rem 2rem;
          border-radius: 1rem;
          width: 100%;
          max-width: 320px;
          text-align: center;
          box-shadow: 0 0 15px rgba(212, 101, 175, 0.5);
          user-select: none;
        }
        #modal .modal-content h2 {
          font-size: clamp(1.2rem, 5vw, 1.75rem);
          margin-bottom: 1rem;
        }
        #modal .btns {
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          gap: 1rem;
          margin-top: 1.5rem;
        }
        #modal button {
          font-weight: 700;
          font-size: clamp(1rem, 4vw, 1.1rem);
          padding: 0.5rem 1.2rem;
          border-radius: 9999px;
          border: none;
          cursor: pointer;
          user-select: none;
          transition: background-color 0.3s ease;
          box-shadow: 0 4px 6px rgba(216, 68, 209, 0.384);
        }
        #modal button#simBtn {
          background-color: #ee9ca7;
          color: white;
        }
        #modal button#naoBtn {
          background-color: #f3f4f6;
          color: #ee9ca7;
          position: relative;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center text-center p-4 text-white">
    <h1 class="text-4xl md:text-6xl font-bold fade-in">Lauryn ❤️</h1>
    <p id="message" class="mt-4 text-lg md:text-2xl max-w-2xl fade-in"></p>
    <button id="btn" class="mt-8 px-6 py-3 bg-pink-600 hover:bg-pink-700 rounded-full shadow-lg text-lg transition">Aperta aqui...</button>

    <!-- Modal -->
    <div id="modal">
        <div class="modal-content">
            <h2>Você me perdoa? Eu te amo!</h2>
            <div class="btns">
                <button id="simBtn" type="button">Sim</button>
                <button id="naoBtn" type="button">Não</button>
            </div>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="https://cdn.pixabay.com/download/audio/2023/05/19/audio_37f0673be2.mp3" type="audio/mpeg">
    </audio>

    <script>
    const text = "Eu sei que vacilei feio com você... eu me arrependo todos os dias por não ter feito o que eu deveria, eu me arrependo todos os dias por não te ter aqui, eu to escrevendo essa 'carta', alias, fazendo esse mini site pra tentar demonstrar pra você que eu te amo demais, eu amo você como eu nunca amei e nunca vou amar mais ninguém. Eu estou totalmente diferente de quem era. Lauryn, eu te amo! Me dá essa chance?  ❤️";
    let i = 0;
    const speed = 50;
    const msgEl = document.getElementById("message");
    const btn = document.getElementById("btn");
    const music = document.getElementById("bgMusic");

    function typeWriter() {
        if (i < text.length) {
            msgEl.innerHTML += text.charAt(i);
            i++;
            setTimeout(typeWriter, speed);
        }
    }
    typeWriter();

    btn.addEventListener("click", () => {
        music.play();
        createHearts();
        modal.classList.add('active');
    });

    function createHearts() {
        for (let j = 0; j < 20; j++) {
            const heart = document.createElement("div");
            heart.classList.add("heart");
            heart.innerHTML = "❤️";
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.animationDuration = (2 + Math.random() * 3) + "s";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000);
        }
    }

    const modal = document.getElementById('modal');
    const simBtn = document.getElementById('simBtn');
    const naoBtn = document.getElementById('naoBtn');

    const formURL = "https://docs.google.com/forms/d/e/1FAIpQLSfH1I13pU79H6s47t22KAobL2dEfnZbp2otYdmZDieBycQfBQ/formResponse";
    const entryID = "entry.1196377588";

    function enviarResposta(valor) {
        const formData = new FormData();
        formData.append(entryID, valor);

        fetch(formURL, {
            method: "POST",
            mode: "no-cors",
            body: formData
        });
    }

    simBtn.addEventListener('click', () => {
        enviarResposta("Sim");
        window.location.href = 'https://youtu.be/vBy7FaapGRo?si=cpP_Tw1UlHjkSbkI';
    });

    naoBtn.addEventListener('click', () => {
        enviarResposta("Não");
        window.location.href = 'nao.html';
    });

    // Botão "Não" foge apenas nas 2 primeiras tentativas
    let tentativasNao = 0;

    naoBtn.addEventListener('mouseenter', () => {
        if (tentativasNao < 2) {
            tentativasNao++;
            const x = Math.random() * window.innerWidth * 0.8;
            const y = Math.random() * window.innerHeight * 0.8;
            naoBtn.style.position = 'fixed';
            naoBtn.style.left = `${x}px`;
            naoBtn.style.top = `${y}px`;
        }
    });
    </script>
</body>
</html>